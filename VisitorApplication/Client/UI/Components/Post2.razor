@page "/nyheder/{postID:int}"

@using VisitorApplication.Shared
@inject HttpClient Http

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css">
</head>

<section class="text-white">
    <div class="border">
        <div class="wrapper container">
            <a class="col-1 btn float-start" href="/nyheder"><i class="bi bi-arrow-left-square" style="font-size: 35px; color: white;"></i></a>
            <h1 class="col-10 text-center display-1 ms-0">Title</h1>
            <div class="col-1"></div>
        </div>
    </div>
</section>

<section class="text-white m-3">
    @if (testList == null)
    {
        <p><em>Loading...</em></p> 
    }
    else
    {
        @foreach (var test in testList)
        {
            if (postID == test.ID)
            {
                <h1>@test.ID</h1>
                <h1>@test.Name</h1>
            }
        }
    }
</section>

@code {

    Test[] testList;

    protected async override Task OnInitializedAsync()
    {
        testList = await Http.GetFromJsonAsync<Test[]>("api/Test/TestList");
    }

    [Parameter]
    public int categoryID { get; set; }
    [Parameter]
    public int postID { get; set; }
}
